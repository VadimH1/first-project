<!DOCTYPE html>
<html data-bs-theme="light">
<head>  
<header class="p-3 text-bg-dark">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <title>Page Title</title>
    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
        <!-- <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
          <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
        </a> -->
        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
          <li><a href="/" class="nav-link px-2 text-white">Home</a></li>
        </ul>
      </div>
    </div>
 </head>
</header><br>
<style>
    body {background-color: powderblue;}
</style> 

<body>
    <!-- <div>
        <a href="/" <button type="button" class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-door" viewBox="0 0 16 16">
                <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146ZM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5Z"></path>
            </svg>
            <font style="vertical-align: inherit;">
                <font style="vertical-align: inherit;">Main Page</font>
            </font>
            </button> 
        </a>          
    </div> -->
    <div style="text-align:center;">
        <img src="	https://cdn3.iconfinder.com/data/icons/strokeline/128/revisi_01-256.png">
    </div><br>
    <h4 style="text-align:center;">Login Form</h4><br>
    <div style="text-align:center;">
        <input type="text" name="phoneNumber" id="phoneNumber" placeholder="Phone number"><br><br>
        <input type="password" name="password" id="password" placeholder="Password"><br><br>
        <input type="button" id="loginButton" name="loginButton" class="btn btn-warning" value="Login Button">
    </div>  
    <p style="visibility: hidden;" id="errorRequiredFields">Required fields is empty</p>
    <p style="visibility: hidden; color: red;" id="loginOrPasswordInvalid">Login or password invalid</p>

</body>
 <script type="text/javascript">
     $( "#loginButton" ).on('click', function() {
         var phoneNumber = $( "#phoneNumber" ).val();
         var password = $( "#password" ).val();
         if (phoneNumber === "" || password === "") {
             $('#errorRequiredFields').css( "visibility", "visible" );
             return
         }
         $.ajax({
           url: "/api/v1/login",
           method: "POST",
           dataType: "json",
           contentType: "application/json; charset=utf-8",
           data: JSON.stringify({
             phone_number: phoneNumber,
             password: password,
           }),
           success: function( result ) {
            localStorage.setItem('token', result.access_token);
            var url = "/";
            $(location).attr('href', url)
           },
           error: function (request, status, error) {
                 $('#loginOrPasswordInvalid').css( "visibility", "visible" );
            }
         });
 });
 </script>
 </html>